import React, { useEffect } from "react";
import AccountEditForm from "../components/account/AccountEditForm";
import DeliveryAddressPanel from "../components/account/delivery-address/DeliveryAddressPanel";
import OrderListGrid from "./data-grid/OrderListGrid";
import useOrdersApi from "../hooks/api/useOrderApi";
import { config } from "../context/root.context";

function AccountPage() {
  const {
    allOrderDetails,
    getAllOrderDetails,
    placeOrder,
    cancelOrder,
    returnOrder,
  } = useOrdersApi();
  useEffect(() => {
    getAllOrderDetails();
  }, [config]);
  return (
    <main>
      <div className="container my-account">
        <ul className="nav nav-tabs" id="myTab" role="tablist">
          <li className="nav-item" role="presentation">
            <button
              className="nav-link active"
              id="home-tab"
              data-bs-toggle="tab"
              data-bs-target="#tab1"
              type="button"
              role="tab"
              aria-controls="home"
              aria-selected="true"
            >
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none">
                <path
                  d="M17.0003 16.94H16.2203C16.2203 15.9919 16.0336 15.053 15.6707 14.177C15.3079 13.3011 14.7761 12.5051 14.1056 11.8347C13.4352 11.1643 12.6393 10.6324 11.7633 10.2696C10.8873 9.90675 9.94845 9.72 9.00031 9.72C8.05217 9.72 7.11331 9.90675 6.23733 10.2696C5.36136 10.6324 4.56544 11.1643 3.895 11.8347C3.22456 12.5051 2.69274 13.3011 2.3299 14.177C1.96706 15.053 1.78031 15.9919 1.78031 16.94H1.00031C0.991076 15.8894 1.18887 14.8473 1.5824 13.8732C1.97593 12.899 2.55749 12.0119 3.29387 11.2626C4.03024 10.5132 4.90702 9.91619 5.87412 9.50567C6.84123 9.09516 7.87972 8.87915 8.93031 8.87H9.00031C11.122 8.87 13.1569 9.71286 14.6572 11.2131C16.1575 12.7134 17.0003 14.7483 17.0003 16.87V16.94ZM12.5203 4.49C12.5144 3.79512 12.3029 3.11754 11.9126 2.54264C11.5222 1.96773 10.9704 1.52124 10.3267 1.25941C9.683 0.997587 8.97621 0.932146 8.29539 1.07133C7.61456 1.21052 6.99017 1.54812 6.50088 2.04157C6.0116 2.53502 5.67932 3.16226 5.54591 3.84424C5.4125 4.52622 5.48394 5.23243 5.75122 5.87388C6.0185 6.51533 6.46966 7.06332 7.04786 7.44879C7.62605 7.83427 8.3054 8.03998 9.00031 8.04C9.4651 8.04002 9.92529 7.94799 10.3543 7.76922C10.7834 7.59045 11.1727 7.32848 11.5 6.99843C11.8272 6.66839 12.0859 6.2768 12.261 5.84626C12.4361 5.41573 12.5243 4.95477 12.5203 4.49ZM11.7303 4.49C11.7244 5.02863 11.5593 5.55347 11.2557 5.99845C10.9522 6.44343 10.5237 6.78867 10.0244 6.9907C9.52508 7.19274 8.97714 7.24254 8.44956 7.13384C7.92198 7.02514 7.43835 6.76279 7.05955 6.37983C6.68075 5.99686 6.42371 5.51039 6.32078 4.98166C6.21785 4.45293 6.27364 3.90556 6.48111 3.40846C6.68859 2.91137 7.03849 2.48676 7.48677 2.18809C7.93504 1.88942 8.46165 1.73003 9.00031 1.73C9.36136 1.72998 9.71882 1.80157 10.052 1.94064C10.3852 2.07971 10.6875 2.28349 10.9414 2.54018C11.1953 2.79687 11.3958 3.10137 11.5312 3.43606C11.6666 3.77075 11.7343 4.12898 11.7303 4.49Z"
                  fill="#6b6b6b"
                  stroke="#6b6b6b"
                  stroke-width="1"
                ></path>
              </svg>
              My Profile
            </button>
          </li>
          <li className="nav-item" role="presentation">
            <button
              className="nav-link"
              id="profile-tab"
              data-bs-toggle="tab"
              data-bs-target="#tab2"
              type="button"
              role="tab"
              aria-controls="profile"
              aria-selected="false"
            >
              <svg width="15" height="18" viewBox="0 0 15 18" fill="none">
                <path
                  d="M7.64963 16.8679L2.94963 12.1679C2.3316 11.5511 1.84129 10.8185 1.50674 10.012C1.1722 9.20552 1 8.34097 1 7.46785C1 6.59473 1.1722 5.73018 1.50674 4.92369C1.84129 4.1172 2.3316 3.38461 2.94963 2.76785C4.24541 1.58063 5.95419 0.947369 7.71073 1.00343C9.46726 1.05949 11.1322 1.80042 12.3496 3.06785C13.504 4.2817 14.1477 5.89275 14.1477 7.56785C14.1477 9.24296 13.504 10.854 12.3496 12.0679L7.64963 16.8679ZM3.54963 3.36785C3.00293 3.90159 2.56851 4.53927 2.2719 5.24338C1.97529 5.9475 1.82249 6.70382 1.82249 7.46785C1.82249 8.23189 1.97529 8.98821 2.2719 9.69232C2.56851 10.3964 3.00293 11.0341 3.54963 11.5679L7.64963 15.6679L11.7496 11.5679C12.2963 11.0341 12.7307 10.3964 13.0274 9.69232C13.324 8.98821 13.4768 8.23189 13.4768 7.46785C13.4768 6.70382 13.324 5.9475 13.0274 5.24338C12.7307 4.53927 12.2963 3.90159 11.7496 3.36785C10.6471 2.30935 9.17799 1.71826 7.64963 1.71826C6.12126 1.71826 4.65212 2.30935 3.54963 3.36785ZM7.64963 9.56785C7.25406 9.56785 6.86738 9.45055 6.53849 9.23079C6.20959 9.01103 5.95324 8.69867 5.80187 8.33322C5.65049 7.96777 5.61089 7.56563 5.68806 7.17767C5.76523 6.78971 5.95571 6.43334 6.23541 6.15364C6.51512 5.87393 6.87148 5.68345 7.25945 5.60628C7.64741 5.52911 8.04954 5.56872 8.41499 5.72009C8.78045 5.87147 9.0928 6.12781 9.31257 6.45671C9.53233 6.78561 9.64963 7.17229 9.64963 7.56785C9.64963 8.09828 9.43891 8.60699 9.06384 8.98206C8.68877 9.35714 8.18006 9.56785 7.64963 9.56785ZM7.64963 6.26785C7.3383 6.28891 7.04516 6.4221 6.82452 6.64274C6.60387 6.86339 6.47069 7.15653 6.44963 7.46785C6.44404 7.62694 6.47126 7.78548 6.52959 7.9336C6.58791 8.08172 6.6761 8.21625 6.78867 8.32881C6.90123 8.44137 7.03576 8.52956 7.18388 8.58789C7.332 8.64622 7.49054 8.67344 7.64963 8.66785C7.80872 8.67344 7.96726 8.64622 8.11538 8.58789C8.26349 8.52956 8.39802 8.44137 8.51059 8.32881C8.62315 8.21625 8.71134 8.08172 8.76967 7.9336C8.828 7.78548 8.85521 7.62694 8.84963 7.46785C8.84448 7.1512 8.7164 6.84896 8.49246 6.62502C8.26852 6.40108 7.96628 6.273 7.64963 6.26785Z"
                  fill="#6B6B6B"
                  stroke="#6B6B6B"
                ></path>
              </svg>
              Delivery Address
            </button>
          </li>
          <li className="nav-item" role="presentation">
            <button
              className="nav-link"
              id="contact-tab"
              data-bs-toggle="tab"
              data-bs-target="#tab3"
              type="button"
              role="tab"
              aria-controls="contact"
              aria-selected="false"
            >
              <svg width="16" height="18" viewBox="0 0 16 18" fill="none">
                <path
                  d="M4.86 7.89182C4.85955 7.74394 4.89815 7.59856 4.9719 7.47038C5.04565 7.3422 5.15193 7.23576 5.28 7.16182V4.57182C5.19567 4.13749 5.20845 3.68989 5.31742 3.26109C5.4264 2.83228 5.62886 2.43289 5.91032 2.09153C6.19178 1.75016 6.54526 1.47528 6.94543 1.28657C7.34561 1.09786 7.78256 1 8.225 1C8.66743 1 9.10439 1.09786 9.50457 1.28657C9.90474 1.47528 10.2582 1.75016 10.5397 2.09153C10.8211 2.43289 11.0236 2.83228 11.1326 3.26109C11.2416 3.68989 11.2543 4.13749 11.17 4.57182V7.16182C11.3006 7.23366 11.4095 7.33937 11.4852 7.46782C11.5608 7.59627 11.6005 7.74274 11.6 7.89182C11.5996 8.03916 11.5604 8.18379 11.4864 8.3112C11.4123 8.43861 11.3061 8.54431 11.1784 8.61769C11.0506 8.69107 10.9058 8.72955 10.7584 8.72928C10.6111 8.729 10.4664 8.68997 10.3389 8.6161C10.2114 8.54224 10.1056 8.43614 10.0321 8.30845C9.95854 8.18077 9.91989 8.03599 9.92 7.88864C9.92011 7.7413 9.95898 7.59658 10.0327 7.469C10.1064 7.34143 10.2124 7.23549 10.34 7.16182V4.57182C10.3599 4.28318 10.3202 3.99354 10.2235 3.72089C10.1267 3.44823 9.97488 3.19839 9.77747 2.98689C9.58005 2.77539 9.34125 2.60675 9.0759 2.49145C8.81055 2.37614 8.52432 2.31664 8.235 2.31664C7.94568 2.31664 7.65945 2.37614 7.3941 2.49145C7.12875 2.60675 6.88995 2.77539 6.69253 2.98689C6.49512 3.19839 6.3433 3.44823 6.24653 3.72089C6.14976 3.99354 6.11009 4.28318 6.13 4.57182V7.16182C6.29141 7.2537 6.41782 7.39649 6.48946 7.56785C6.56109 7.73921 6.57391 7.92949 6.52591 8.10891C6.47792 8.28833 6.3718 8.44679 6.22418 8.55949C6.07655 8.6722 5.89573 8.7328 5.71 8.73182C5.48707 8.72928 5.27384 8.64028 5.11527 8.48357C4.95669 8.32686 4.86517 8.1147 4.86 7.89182ZM13.22 4.89182H12V5.73182H12.49L14 14.2018H3.19V15.0418H14.19L14.49 16.7318H2L4 5.78182H4.49V4.94182H3.25L1 17.5718H15.48L13.22 4.89182ZM7 5.78182H9.5V4.94182H7V5.78182Z"
                  fill="#6B6B6B"
                  stroke="#6B6B6B"
                  stroke-width="0.5"
                ></path>
              </svg>
              My Orders
            </button>
          </li>
          <li className="nav-item" role="presentation">
            <button
              className="nav-link"
              id="contact-tab"
              data-bs-toggle="tab"
              data-bs-target="#tab4"
              type="button"
              role="tab"
              aria-controls="contact"
              aria-selected="false"
            >
              <svg width="17" height="18" viewBox="0 0 17 18" fill="none">
                <path
                  d="M14.74 17.0238H2.57C2.15361 17.0238 1.75427 16.8584 1.45984 16.564C1.16541 16.2695 1 15.8702 1 15.4538V9.1738C1 8.96762 1.04061 8.76347 1.11951 8.57299C1.19841 8.3825 1.31405 8.20943 1.45984 8.06364C1.60563 7.91785 1.77871 7.80221 1.96919 7.72331C2.15967 7.64441 2.36382 7.6038 2.57 7.6038H14.74C14.9462 7.6038 15.1503 7.64441 15.3408 7.72331C15.5313 7.80221 15.7044 7.91785 15.8502 8.06364C15.9959 8.20943 16.1116 8.3825 16.1905 8.57299C16.2694 8.76347 16.31 8.96762 16.31 9.1738V15.4538C16.31 15.8702 16.1446 16.2695 15.8502 16.564C15.5557 16.8584 15.1564 17.0238 14.74 17.0238ZM2.57 8.3838C2.36313 8.3838 2.16474 8.46598 2.01846 8.61226C1.87218 8.75853 1.79 8.95693 1.79 9.1638V15.4438C1.79 15.6507 1.87218 15.8491 2.01846 15.9953C2.16474 16.1416 2.36313 16.2238 2.57 16.2238H14.74C14.8424 16.2251 14.9441 16.2063 15.0393 16.1683C15.1344 16.1303 15.2211 16.0739 15.2945 16.0024C15.3679 15.9309 15.4264 15.8457 15.4668 15.7515C15.5072 15.6574 15.5287 15.5562 15.53 15.4538V9.1738C15.53 8.96428 15.4468 8.76334 15.2986 8.61518C15.1505 8.46703 14.9495 8.3838 14.74 8.3838H2.57ZM12 8.0238H5.32V4.4238C5.31908 3.93992 5.42115 3.46139 5.61943 3.02001C5.81771 2.57862 6.10766 2.18449 6.47 1.8638C6.81453 1.54367 7.2248 1.30264 7.67216 1.15755C8.11952 1.01246 8.59317 0.966814 9.06 1.0238C9.89113 1.13914 10.6506 1.55688 11.193 2.19708C11.7354 2.83729 12.0227 3.65501 12 4.4938V8.0238ZM6.11 7.2038H11.21V4.4938C11.2191 3.85978 11.0015 3.24336 10.5963 2.75564C10.1911 2.26793 9.62495 1.941 9 1.8338C8.64238 1.78574 8.2786 1.81535 7.93346 1.92062C7.58832 2.02589 7.26993 2.20434 7 2.4438C6.71957 2.69544 6.49602 3.004 6.34427 3.34888C6.19252 3.69376 6.11607 4.06703 6.12 4.4438L6.11 7.2038ZM5 13.8438C4.66383 13.8142 4.35207 13.656 4.12968 13.4021C3.90729 13.1483 3.79144 12.8184 3.80626 12.4813C3.82109 12.1442 3.96546 11.8257 4.20927 11.5924C4.45308 11.3591 4.77753 11.2289 5.115 11.2289C5.45247 11.2289 5.77692 11.3591 6.02073 11.5924C6.26454 11.8257 6.40891 12.1442 6.42374 12.4813C6.43856 12.8184 6.32271 13.1483 6.10032 13.4021C5.87793 13.656 5.56617 13.8142 5.23 13.8438H5ZM5 12.0238C4.86209 12.0238 4.72982 12.0786 4.6323 12.1761C4.53479 12.2736 4.48 12.4059 4.48 12.5438C4.49231 12.6738 4.55219 12.7947 4.64815 12.8833C4.74412 12.9719 4.86941 13.0219 5 13.0238C5.13791 13.0238 5.27018 12.969 5.3677 12.8715C5.46521 12.774 5.52 12.6417 5.52 12.5038C5.5099 12.3729 5.45069 12.2507 5.35425 12.1617C5.2578 12.0727 5.13125 12.0234 5 12.0238ZM8.53 13.8438C8.27092 13.8458 8.01707 13.7709 7.80055 13.6286C7.58404 13.4863 7.41458 13.283 7.31361 13.0444C7.21264 12.8058 7.18469 12.5426 7.2333 12.2881C7.2819 12.0336 7.40488 11.7992 7.58668 11.6146C7.76849 11.43 8.00094 11.3035 8.25466 11.251C8.50838 11.1985 8.77196 11.2224 9.01208 11.3198C9.2522 11.4171 9.45807 11.5834 9.60366 11.7977C9.74925 12.012 9.82801 12.2647 9.83 12.5238C9.82869 12.6958 9.79351 12.8659 9.72647 13.0244C9.65942 13.1828 9.56182 13.3265 9.43925 13.4472C9.31668 13.5679 9.17152 13.6633 9.01208 13.7279C8.85264 13.7925 8.68203 13.8251 8.51 13.8238L8.53 13.8438ZM8.53 12.0238C8.39209 12.0238 8.25982 12.0786 8.1623 12.1761C8.06479 12.2736 8.01 12.4059 8.01 12.5438H8C8 12.6817 8.05479 12.814 8.1523 12.9115C8.24982 13.009 8.38209 13.0638 8.52 13.0638C8.65002 13.0515 8.77092 12.9916 8.8595 12.8956C8.94808 12.7997 8.99812 12.6744 9 12.5438C9 12.4059 8.94521 12.2736 8.8477 12.1761C8.75018 12.0786 8.61791 12.0238 8.48 12.0238H8.53ZM12 13.8438C11.6638 13.8142 11.3521 13.656 11.1297 13.4021C10.9073 13.1483 10.7914 12.8184 10.8063 12.4813C10.8211 12.1442 10.9655 11.8257 11.2093 11.5924C11.4531 11.3591 11.7775 11.2289 12.115 11.2289C12.4525 11.2289 12.7769 11.3591 13.0207 11.5924C13.2645 11.8257 13.4089 12.1442 13.4237 12.4813C13.4386 12.8184 13.3227 13.1483 13.1003 13.4021C12.8779 13.656 12.5662 13.8142 12.23 13.8438H12ZM12 12.0238C11.8621 12.0238 11.7298 12.0786 11.6323 12.1761C11.5348 12.2736 11.48 12.4059 11.48 12.5438C11.4923 12.6738 11.5522 12.7947 11.6482 12.8833C11.7441 12.9719 11.8694 13.0219 12 13.0238C12.1379 13.0238 12.2702 12.969 12.3677 12.8715C12.4652 12.774 12.52 12.6417 12.52 12.5038C12.5099 12.3729 12.4507 12.2507 12.3542 12.1617C12.2578 12.0727 12.1313 12.0234 12 12.0238Z"
                  fill="#6B6B6B"
                  stroke="#6B6B6B"
                  stroke-width="0.5"
                ></path>
              </svg>
              Change Password
            </button>
          </li>
        </ul>
        <div className="tab-content" id="myTabContent">
          <div
            className="tab-pane fade show active"
            id="tab1"
            role="tabpanel"
            aria-labelledby="home-tab"
          >
            <div className="container py-4">
              <div className="row">
                <AccountEditForm></AccountEditForm>
              </div>
            </div>
          </div>
          <div
            className="tab-pane fade"
            id="tab2"
            role="tabpanel"
            aria-labelledby="profile-tab"
          >
            <DeliveryAddressPanel></DeliveryAddressPanel>
          </div>
          <div
            className="tab-pane fade"
            id="tab3"
            role="tabpanel"
            aria-labelledby="contact-tab"
          >
            <div className="container py-4">
              <div className="col-12 pt-4">
                <h2>My orders</h2>
              </div>
              <div className="col-12">
                <OrderListGrid rows={allOrderDetails}></OrderListGrid>
              </div>
            </div>
          </div>
          <div
            className="tab-pane fade"
            id="tab4"
            role="tabpanel"
            aria-labelledby="contact-tab"
          >
            <div className="container py-4">
              <div className="row">
                <div className="col-12 pt-4">
                  <h2>Change Password</h2>
                </div>
                <div className="col-8 mt-5 border p-4">
                  <div className="row">
                    <div className="col-6 mb-3">
                      <label htmlFor="" className="form-label">
                        New Password
                      </label>
                      <input
                        type="tel"
                        className="form-control"
                        id=""
                        placeholder="New Password"
                      />
                    </div>
                    <div className="col-6 mb-3">
                      <label htmlFor="" className="form-label">
                        Confirm New Password
                      </label>
                      <input
                        type="tel"
                        className="form-control"
                        id=""
                        placeholder="Confirm New Password"
                      />
                    </div>

                    <div className="col-6">
                      <button className="btn btn__bg btn__sqr">
                        Update Password
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  );
}

export default AccountPage;
